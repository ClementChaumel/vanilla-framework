var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var L=(e,n)=>{for(var t in n)d(e,t,{get:n[t],enumerable:!0})},_=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of m(n))!w.call(e,s)&&s!==t&&d(e,s,{get:()=>n[s],enumerable:!(i=v(n,s))||i.enumerable});return e};var N=e=>_(d({},"__esModule",{value:!0}),e);var E={};L(E,{initNavDropdowns:()=>p});module.exports=N(E);var u=()=>{window.vanillaFramework||(window.vanillaFramework={})};function l(e,n){let t;e.parentNode.classList.contains("p-navigation__item--dropdown-close")?t=e.parentNode.parentNode.parentNode:t=e.parentNode;let i=document.getElementById(e.getAttribute("aria-controls"));if(i.setAttribute("aria-hidden",!n),n){t.classList.add("is-active");let s=t.closest(".p-navigation__dropdown, .p-navigation__nav");s&&(s.scrollTop=0),i.classList.remove("is-dropdown-collapsed"),i.classList.add("is-dropdown-expanded")}else t.classList.remove("is-active"),i.classList.remove("is-dropdown-expanded"),i.classList.add("is-dropdown-collapsed")}function r(e,n){e.forEach(function(t){n?!n[t.parentNode.id]&&!t.parentNode.classList.contains("p-navigation__item--dropdown-close")&&l(t,!1):l(t,!1)})}function h(e,n){document.addEventListener("click",function(t){let i=t.target;i.closest&&(i.closest(n)||r(e))})}function g(e,n,t){let i;if(e.parentNode.classList.contains("p-navigation__item--dropdown-close"))i=!1;else{let o={},a=e.parentNode,c=["p-navigation__item--dropdown-toggle","is-active"];for(;a.parentNode&&a.parentNode.nodeName.toLowerCase()!="body";)a=a.parentNode,c.every(f=>a.classList.contains(f))&&(o[a.id]=a);i=!e.parentNode.classList.contains("is-active"),r(n,o)}let s=document.getElementById(e.getAttribute("aria-controls"));i&&s.classList.remove("is-dropdown-hidden"),l(e,i)}function k(e,n,t){n.classList.contains("has-menu-open")?(e.textContent="Menu",n.classList.remove("has-menu-open"),r(t)):(e.textContent="Close menu",n.classList.add("has-menu-open"),r(t))}var y=function(e,n){var t=null;return function(){var i=this,s=arguments;clearTimeout(t),t=setTimeout(function(){e.apply(i,s)},n)}};function p(){let e=[".p-navigation__item--dropdown-toggle",".p-navigation__item--dropdown-close"],n=document.querySelector(".p-navigation"),t=[].slice.call(n.querySelectorAll(".p-navigation__dropdown, .p-navigation__dropdown--right")),i=[].slice.call(n.querySelectorAll(e.map(o=>o+" [aria-controls]").join(", "))),s=n.querySelector(".js-menu-button");s&&s.addEventListener("click",function(o){o.preventDefault(),k(s,n,i)}),h(i,e),t.forEach(function(o){o.parentNode.classList.contains("is-active")||o.classList.add("is-dropdown-hidden"),o.addEventListener("animationend",function(a){if(a.stopPropagation(),o.parentNode.classList.contains("is-active")){let c=o.querySelector(".p-navigation__item--dropdown-close > .p-navigation__link");c&&c.focus()}else{o.classList.add("is-dropdown-hidden");let c=o.parentNode.querySelector(".p-navigation__link");c&&c.focus()}},!1)}),i.forEach(function(o){o.addEventListener("click",async function(a){a.preventDefault(),g(o,i,e)})}),window.addEventListener("resize",y(function(){t.forEach(o=>{o.setAttribute("aria-expanded",!1),o.classList.remove("is-dropdown-expanded"),o.classList.remove("is-dropdown-collapsed"),o.classList.add("is-dropdown-hidden"),o.parentNode.classList.remove("is-active")})},10))}u();window.vanillaFramework.slidingNav=()=>{p()};
//# sourceMappingURL=index-cjs.js.map
