@import 'settings';

@mixin horizontal-dividers() {
  padding-bottom: $spv--large;
  padding-top: $spv--large;

  &:not(:first-child)::before {
    background-color: var(--color-divider-line);
    bottom: auto;
    content: '';
    height: 1px;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    width: auto;
  }
}

@mixin vertical-dividers() {
  padding-bottom: 0;
  padding-top: 0;

  &:not(:first-child)::before {
    background-color: var(--color-divider-line);
    bottom: 0;
    content: '';
    height: auto;
    left: map-get($grid-gutter-widths, default) * -0.5;
    position: absolute;
    right: auto;
    top: 0;
    width: 1px;
  }
}

@mixin vf-p-divider {
  %light-version {
    --color-divider-text: #{$colors--light-theme--text-default};
    --color-divider-line: #{$colors--light-theme--border-default};
  }
  %dark-version {
    --color-divider-text: #{$colors--dark-theme--text-default};
    --color-divider-line: #{$colors--dark-theme--border-default};
  }

  .p-divider {
    @extend %vf-row;
    @if ($theme-default-p-divider == 'dark') {
      @extend %dark-version;
    } @else {
      @extend %light-version;
    }

    &.is-light {
      @extend %light-version;
    }

    &.is-dark {
      @extend %dark-version;
    }

    margin-bottom: $spv--x-large;
  }

  .p-divider__block {
    color: var(--color-divider-text);
    position: relative;

    @include horizontal-dividers();

    // Medium screens will have horizontal dividers unless col-medium-...
    // classes have been applied.
    @media (min-width: $threshold-4-6-col) {
      // If a col-medium- class has been applied then use vertical dividers.
      &[class*='#{$grid-medium-col-prefix}'] {
        @include vertical-dividers();
      }
    }

    @media (min-width: $threshold-6-12-col) {
      @include vertical-dividers();
    }
  }
}
